{% include 'public/templates/navbar.html' %}

{% extends 'public/templates/public_templates.html' %}

{% block title %}sign up{% endblock %}

{% block main %}

{% block notify %}{% endblock %}

<div class="content-section">
    <div class="media">
        <div class="media-body">
            
            <form method="POST" action="/account" enctype="multipart/form-data">
                
                {{ form.hidden_tag() }}
                <fieldset class="form-group">
                    <legend class="border-bottom mb-4">Account-info</legend>
                            <div class="form-group">
                                {{ form.username.label(class="form-control-label") }}
                                
                                {% if form.username.errors %}
                                {{ form.username(class="form-control form-control-lg is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.username.errors %}
                                    <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                                {% else %}
                                {{ form.username(class="form-control form-control-lg") }}
                                {% endif %}
                                
                                
                            </div>

                            <div class="form-group">
                                {{ form.email.label(class="form-control-label") }}
                                {% if form.email.errors %}
                                {{ form.email(class="form-control form-control-lg is-invalid") }}
                                <div class="invalid-feedback">
                                 {% for error in form.email.errors %}
                                    <span>{{ error }}</span>
                                    {% endfor %}
                            </div>
                            {% else %}
                            {{ form.email(class="form-control form-control-lg") }}
                            {% endif %}
                        </br>
                    <legend>profile-update</legend>
                    {{ form.age.label(class='form-control-label')}}
                      {%if form.age.errors %}
                      <div class="invalid-feedback">
                        {{ form.age(class="form-control form-control-lg is-invalid")}}
                        {% for error in form.age.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                      </div>
                      {% else %}
                      {{ form.age(class="form-control form-control-lg")}}
                      {% endif %}
              
                     <div></div>
              
                      {{ form.interest.label(class='form-control-label')}}
                      {%if form.interest.errors %}
                      <div class="invalid-feedback">
                        {{ form.interest(class="form-control form-control-lg is-invalid")}}
                        {% for error in form.bio.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                      </div>
                      {% else %}
                      {{ form.interest(class="form-control form-control-lg", id="tag", data_role="tagsinput", type="text")}}
                      {% endif %}
              
                      {{ form.bio.label(class='form-control-label')}}
                      {%if form.bio.errors %}
                      <div class="invalid-feedback">
                        {{ form.bio(class="form-control form-control-lg is-invalid")}}
                        {% for error in form.bio.errors %}
                        <span>{{ error }}</span>
                        {% endfor %}
                      </div>
                      {% else %}
                      {{ form.bio(class="form-control form-control-lg")}}
                      {% endif %}
                            
                      <div class="form-group">
                        {{ form.gender.label(class='')}}
                        {%if form.gender.errors %}
                        <div class="invalid-feedback">
                          {{ form.gender(class="form-control form-control-lg is-invalid")}}
                          {% for error in form.gender.errors %}
                          <span>{{ error }}</span>
                          {% endfor %}
                        </div>
                        {% else %}
                        {{ form.gender(class="")}}
                        {% endif %}
                      </div>
                      
                      <label for="">Your current city is: </label><p><b> {{ current_location[0] }}</b></p>
                      
                      <div class="form-group">
                          {{ form.city.label(class="form-control-label") }}
                          
                          {% if form.city.errors %}
                          {{ form.city(class="form-control form-control-lg is-invalid") }}
                          <div class="invalid-feedback">
                              {% for error in form.city.errors %}
                              <span>{{ error }}</span>
                              {% endfor %}
                          </div>
                          {% else %}
                          {{ form.city(class="form-control form-control-lg") }}
                          {% endif %}
                          
                          
                      </div>

                      <div class="form-group">
                        {{ form.sexualPreference.label(class='')}}
                        {{ form.sexualPreference(class="")}}
                      </div>
                      <div class="form-group">
                        {{ form.picture.label() }}
                        {{ form.picture(class="form-control-file") }}
                        {% if form.picture.errors %}
                            {% for error in form.picture.errors %}
                              <span class="text-danger">{{ error }}</span><br>
                            {% endfor %}
                        {% endif %}
                      </div>    
                    </div>
                </fieldset>
                    
                    
                    <div class="form-group">
                        {{ form.submit(class="btn-outline-info") }}
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    {% endblock %}